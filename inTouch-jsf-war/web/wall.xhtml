<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>InTouch</title>
    </h:head>
    <h:body>
        <!-- Personal info  -->
        <div class="personalInfo" align="center">
            Welcome: "username"
        </div>
        
        <!-- Table for the wall on the main page (public/private) -->
        <table class="wallTable" align="center">
            <tr id="R1">
                <td class="groupHeader">
                    <!-- Groups div -->
                    <div>
                        <h1>GRUPOS</h1>
                    </div>
                </td>

                <td class="tabButtons">
                    <div align="center">
                        <button class="tablink" onclick="openChat('Private', this)" id="defaultOpen">Private</button>

                        <button class="tablink" onclick="openChat('Public', this)">Public</button>
                    </div>
                </td>

                <td class="inviteHeader">
                    <!-- Invites div -->
                    <div>
                        <h1>INVITACIONES</h1>
                    </div>
                </td>
            </tr>

            <tr>
                <td class="groupList">
                    <br/>
                    <ul>
                        <li><a href="#">Grupo</a></li>
                    </ul>
                    <br/>
                    <!-- createGroup button -->
                    <br/>
                    <button id="createGroupButton">Crear grupo</button>
                </td>

                <td class="content">
                    <div id="Public" class="tabcontent">
                        <div class="box">
                            <h3 align="center">                
                                <a href="#">
                                    <i class="fa fa-user-circle" aria-hidden="true"></i>
                                    Username</a>
                            </h3>
                            <p>Message</p>
                        </div>
                    </div>

                    <div id="Private" class="tabcontent">
                        <div class="box">
                            <h3 align="center">
                                <a href="#">
                                    <i class="fa fa-user-circle" aria-hidden="true"></i>
                                    Username
                                </a>
                                
                                &nbsp;-&nbsp;
                                
                                <a href="#">
                                    groupName (if group)
                                </a>
                            </h3>
                            <p>Message</p>
                        </div>
                    </div>
                </td>

                <td class="inviteList">
                    <br/>
                    <h3>amistad</h3>
                    <hr/> 
                        <fieldset class="thirdSize">
                            <legend class="center-legend">
                                <a href="#">username</a>
                            </legend>
                            <h:form>
                                    <input type="hidden" name="acceptUserId" value="id"/>
                                    <input type="hidden" name="pageURL" value="url"/>
                                    <h:commandButton value="aceptar"/>
                            </h:form>
                            <h:form>
                                    <input type="hidden" name="cancelUserId" value="id"/>
                                    <input type="hidden" name="pageURL" value="url"/>
                                    <h:commandButton value="rechazar"/>
                            </h:form>
                        </fieldset>
       
                    <br/>
                    <h3>Grupos</h3>
                    <hr/>
                        <fieldset class="thirdSize">
                            <legend class="center-legend">
                                <a href="#">GroupName</a>
                            </legend>
                            <h:form>
                                    <input type="hidden" name="acceptGroupId" value="id">
                                    <input type="hidden" name="pageURL" value="url"/>
                                    <h:commandButton value="aceptar"/>
                            </h:form>
                            <h:form>
                                    <input type="hidden" name="cancelGroupId" value="id">
                                    <input type="hidden" name="pageURL" value="url"/>
                                    <h:commandButton value="rechazar"/>
                            </h:form>
                        </fieldset>
                    <br/>
                </td>
            </tr>
        </table>
        
        <!-- Up button -->
        <a href="#R1"><button class="fixedButton">UP</button></a>
    
        <!-- Post button -->
        <button id="postButton">POST</button>
    
        <!-- Post form -->
        <div id="postModal" class="modal" align="center">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div align="center"><p>Mensaje:</p></div>
                <h:form id="postForm">
                    <h:inputTextarea rows="5" cols="50" required="true"></h:inputTextarea><br/><br/>
                    public <h:selectBooleanCheckbox  value="" /><br/>
                    <!-- date and author on servlet -->
                    <h:commandButton value="submit"/>
                </h:form>
            </div>
        </div>
            
    <!-- Create group form -->
    <div id="createGroupModal" class="modal" align="center">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h:form id="createGroupForm">
                <div align="center"><p>GroupName</p></div>
                <h:inputText class="groupName" value="groupName" requiredMessage="eres un necio"/>
                <br/><br/><br/>
                <div align="center"><p>groupDesc</p></div>
                <h:inputTextarea rows="5" cols="50"></h:inputTextarea><br/><br/>
                <!-- date and author on servlet -->
                <h:commandButton value="submitGroup"/>
            </h:form>
        </div>
    </div>

    <!-- post modal script -->
    <script>
        // Modal script
        let modal = document.getElementById("postModal");
        let btn = document.getElementById("postButton");
        let span = document.getElementsByClassName("close")[0];
        
        // Modal script
        let cgModal = document.getElementById("createGroupModal");
        let cgBtn = document.getElementById("createGroupButton");
        let cgSpan = document.getElementsByClassName("close")[1];
        
        btn.onclick = function() {
            if(modal.style.display !== "block"){
                modal.style.display = "block";
            } else {
                modal.style.display = "none";
            }
        };
        
        cgBtn.onclick = function() {
            if(cgModal.style.display !== "block"){
                cgModal.style.display = "block";
            } else {
                cgModal.style.display = "none";
            }
        };
        
        span.onclick = function() {
            modal.style.display = "none";
        };
        
        cgSpan.onclick = function() {
            cgModal.style.display = "none";
        };
        
        window.onclick = function(event) {
            if(event.target === modal){
                modal.style.display="none";
            }
            
            if(event.target === cgModal){
                cgModal.style.display="none";
            }
        };
    </script>

    <!-- Script for the tabs -->
    <script>
        function openChat(chatName, place) {
            let i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].style.backgroundColor = "";
            }
            document.getElementById(chatName).style.display = "block";
            place.style.backgroundColor = '#9b30ff';

        }
        
        // Get the element with id="defaultOpen" and click on it
        document.getElementById("defaultOpen").click();
    </script>

    </h:body>
    
</html>

